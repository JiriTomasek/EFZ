@using EFZ.Resources
@using Newtonsoft.Json
@model EFZ.WebApplication.Models.Settings.CustomerVm
<div data-role="page">
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
</div>

<form asp-action="NewOrEditCustomer" asp-controller="Settings">
    <input asp-for="Id" type="hidden" />
    <input asp-for="AddressId" type="hidden" />

    <input asp-for="Address.Id" type="hidden" />
    <input asp-for="UserIds" type="hidden" />

    <div class="modal-header">

    </div>
    <div class="modal-body">
        <p id="messageToClient" class="text-danger"></p>
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>

        <div class="row">
            <div class="col-4">
                <div class="form-group">
                    <label asp-for="Name" class="control-label"></label>
                    <input asp-for="Name" class="form-control" />
                    <span asp-validation-for="Name" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="IC" class="control-label"></label>
                    <input asp-for="IC" class="form-control" />
                    <span asp-validation-for="IC" class="text-danger"></span>
                </div>
               
                <div class="form-group">
                    <label asp-for="DIC" class="control-label"></label>
                    <input asp-for="DIC" class="form-control" />
                    <span asp-validation-for="DIC" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <div class="select-wrapper">
                        <span class="multi-user-select"></span>
                    </div>
                </div>
            </div>

            <div class="col-4">
                <div class="form-group">
                    <label asp-for="Address.StreetName" class="control-label"></label>
                    <input asp-for="Address.StreetName" class="form-control" />
                    <span asp-validation-for="Address.StreetName" class="text-danger"></span>
                </div>

                <div class="form-group">

                    <label asp-for="Address.StreetNumber" class="control-label"></label>
                    <input asp-for="Address.StreetNumber" class="form-control" />
                    <span asp-validation-for="Address.StreetNumber" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label asp-for="Address.AlternativeStreetNumber" class="control-label"></label>
                    <input asp-for="Address.AlternativeStreetNumber" class="form-control" />
                    <span asp-validation-for="Address.AlternativeStreetNumber" class="text-danger"></span>
                </div>

            </div>
            <div class="col-4">


                <div class="form-group">
                    <label asp-for="Address.City" class="control-label"></label>
                    <input asp-for="Address.City" class="form-control" />
                    <span asp-validation-for="Address.City" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="Address.PostalCode" class="control-label"></label>
                    <input asp-for="Address.PostalCode" class="form-control" />
                    <span asp-validation-for="Address.PostalCode" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label asp-for="Address.State" class="control-label"></label>
                    <input asp-for="Address.State" class="form-control" />
                    <span asp-validation-for="Address.State" class="text-danger"></span>
                </div>
            </div>
        </div>

    </div>
   

    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary btn-close" data-dismiss="modal">@Html.Raw(Labels.valClose)</button>
        <input type="submit" class="btn btn-primary" value="@Html.Raw(Labels.valSave)" />
    </div>
</form>
    
<script>
    @*$("#RolesIds").val(@Json.Serialize(@Model.Roles.Select(t=>t.Id)));*@
    var multiUser = new SelectPure(".multi-user-select", {
        options: @Json.Serialize(@ViewBag.AllUsers),
        value: @Json.Serialize(@Model.Users.Select(t=>t.Id.ToString()).ToList()),
        multiple: true,
        icon: "fa fa-times",
        placeholder: @Json.Serialize(@LabelsMessages.valUserSelect),
        onChange: value => { userEditChange(value) },
        classNames: {
            select: "select-pure__select",
            dropdownShown: "select-pure__select--opened",
            multiselect: "select-pure__select--multiple",
            label: "select-pure__label",
            placeholder: "select-pure__placeholder",
            dropdown: "select-pure__options",
            option: "select-pure__option",
            autocompleteInput: "select-pure__autocomplete",
            selectedLabel: "select-pure__selected-label",
            selectedOption: "select-pure__option--selected",
            placeholderHidden: "select-pure__placeholder--hidden",
            optionHidden: "select-pure__option--hidden",
        }
    });



</script>